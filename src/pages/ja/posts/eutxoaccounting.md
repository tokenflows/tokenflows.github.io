---
id: eutxoaccounting
lang: ja
url: /ja/posts/eutxoaccounting/
layout: layouts/default.njk
keywords:
  - トークン
  - トークンエンジニアリング
  - EUTxO
comments: false
title: eUTXOとトークンエンジニアリング
description: Cardano の拡張未使用トランザクション出力 (EUTXO) モデルは、ビットコインの基礎となるプロセス UTXO 会計手法を拡張します。 EUTXOはなじみがないので、REA(Resource-Event-Agent)会計上の対比を用いてEthereumバランス会計モデルと比較し、対比します。
author:
  title: Cardanoの会計モデル
  title_url: https://iohk.io/en/blog/posts/2021/03/11/cardanos-extended-utxo-accounting-model/
  external_url: true
  description: Cardano is an extended Unspent Transaction Output (EUTXO) blockchain, that uses a Bitcoin-based ledger accounting model. Ethereum で使用されるアカウント残高モデルとは異なり、eUTXO は REA アカウンティング オントロジー (ISO 15944-4) に直接マッピングされます。
micro_nav: true
nav:
  index:
    content: ブログに戻る
    url: /blog/
---

ブロックチェーン技術は、共有トランザクションの実行と記録を維持するための安全なデジタルネイティブアプローチを提供します。これは、ネットワークネイティブで組織的な島々を超越することができるアプローチです。 しかし、会計システムは金融の世界を支配しているため、会計の観点からブロックチェーンを理解することが不可欠です。 そうすることで、トークン エンジニアリングを [三式簿記](https://www.sciencedirect.com/science/article/pii/S2096720921000324) を使用してミクロ経済システムを設計する分野として位置付けることにも役立ちます (これについては後の記事で説明します)。

2 つの主要な元帳モデルが、ブロックチェーン ベースの [多元的経済変革](https://www.plurality.net/) のバックボーンとして機能します。

Ethereum のアカウント ベースのモデルは、従来の会計システムの総勘定元帳アプローチからインスピレーションを得ており、各アカウントは継続的な _残高_ 更新メカニズムを通じて組織の現在の財務状態を反映します。 このモデルは、会計における従来の損益計算書によって提供されるスナップショットと同様に、特定の時点における企業の財務状況の単一の集計ビューを強調します。 Ethereum の場合、そのスナップショットはネットワーク全体になります。

逆に、BitcoinのオリジナルのUTXOトリプルエントリアーキテクチャの進化であるCardanoのExtended Unspent Transaction Output(eUTXO)モデルがあります。 eUTXOモデルはBitcoinの本質を保持しながら、バリデーションルールに制約されたより複雑なトランザクションをサポートする追加機能を組み込んでいます。 eUTXO会計アプローチは、単一の累積口座ではなく、個々のトランザクションに焦点を当てたトランザクション処理に異なる視点を可能にします。

これらのブロックチェーンモデルと伝統的な財務会計との間の概念的ギャップを埋めるために、我々は[REA(Resource-Event-Agent)会計オントロジー](https://en.wikipedia.org/wiki/Resources,_Events,_Agents)会計オントロジーに目を向けてみます。 REA は、関係するリソース、リソースの状態を変更するイベント、およびこれらのイベントを開始または影響を受けるエージェントを識別することにより、経済取引を分析するための構造化言語を提供します。 REAのオントロジーをブロックチェーンアーキテクチャに適用することで、デジタル元帳がどのようにミラーリングし、従来の会計慣行から分岐し、潜在的に向上するかを理解することができます。

### Ethereumのアカウントベースモデルを理解する

![アカウントベースモデル](/assets/images/account-balance.png)

Ethereumのアカウントベースのモデルは、その設計の礎石であり、会計で使用される従来の総勘定元帳システムに類似しています。 これは、ソフトウェア開発におけるオブジェクト指向アプローチ (実際には [アクター モデル](https://en.wikipedia.org/wiki/Actor_model)) も反映しています。 アカウントベースのモデルでは、ブロックチェーンは、すべてのアカウントの残高、スマート コントラクト コード、およびコントラクト ストレージを含む状態を維持します。 このアプローチは、総勘定元帳がさまざまなアカウントの財務状況を追跡し、各メッセージに応じて残高を調整する方法に似ています。

Ethereum の各アカウントは、秘密鍵によって制御され、トランザクションを開始できる外部所有アカウント (EOA) か、契約コードによって管理され、トリガーされると複雑な操作を実行できる契約アカウントのいずれかになります。 このアカウントの二重性により、Ethereum はさまざまな分散型アプリケーション (dApps) と金融商品をサポートできます。

アカウントベース モデルの強みは、直感性と状態の変化を簡単に表現できることにあります。 システムは、アカウント残高と契約状態の変更を反映して、メッセージごとにグローバル状態を更新します。 この継続的な更新プロセスにより、従来の会計における総勘定元帳が現在の財務状況を反映するのと同様に、ブロックチェーンが常に現在の元帳の状態を正確に表すことが保証されます。

ただし、このモデルでは、状態の一貫性を維持するためにメッセージを順番に処理する必要があるため、潜在的なボトルネックやフロントランニングなどの攻撃のベクトルが発生する可能性があります。 各メッセージが状態に与える影響は、次のメッセージが処理される前に確認する必要があり、これにより、元帳が正確かつ最新の状態に保たれます。 この順次処理は、システムの整合性を維持するために非常に重要です。 それでも、スケーラビリティとトランザクションスループットが制限される可能性があり、これは、Ethereumの人気と使用が増えるにつれて直面する課題です。 また、状態の集約的な性質により、システム状態を別の観点から表示したり集約したりすることがより面倒になります。

### Cardano の eUTXO モデルの詳細

![EUTXO アカウント モデル](/assets/images/eutxo.png)

Cardano で使用されている [Extended Unspent Transaction Output (eUTXO) モデル](https://docs.cardano.org/learn/eutxo-explainer/) モデルは、ビットコインの UTXO モデルの基本原則に基づいて構築されながら、より高い柔軟性を導入しており、Ethereum のアカウントベースのシステムからの大きな違いがあります。 eUTXO モデルでは、元帳はアカウント残高を追跡しません。代わりに、未使用のトランザクション出力 (UTXO) のセットが維持されます。各 UTXO は、未使用の 1 つ以上のデジタル資産の一部を表します。

Cardano エコシステム内の UTXO は、多次元の価値単位を総合的に表す複数の種類の資産単位を運ぶことができます。 含まれるトランザクションはデータと検証ロジックもサポートし、ビットコインの UTXO モデルの機能を拡張して、より高度なトランザクションと契約をサポートします。 この機能により、複数のトランザクションにわたって複数の UTXO 内の複数の資産と対話する複雑なスマート コントラクトを作成できるようになり、システムは幅広い分散型アプリケーションに高度に適応可能になります。

eUTXO モデルの重要な利点の 1 つは、その固有の並列性です。 トランザクションは個別の UTXO を消費および生成するため、同じ UTXO を消費しようとしない限り、多くのトランザクションを同時に処理できます。 各トランザクションは、関連性がない可能性のある多くのサブトランザクションもサポートします。 この特性により、Cardano ネットワークのスケーラビリティが大幅に向上し、トランザクションを厳密な順序で処理する必要があるシステムよりも大量の本物のトランザクションを処理できるようになります。 また、UTXO グラフのシームレスなパーティショニングも可能になり、ネットワーク全体のトランザクション スループットとプライバシーが向上します。

さらに、eUTXO モデルは高度な透明性と監査可能性を提供します。 各 UTXO は自己完結型の多次元価値単位であり、トランザクション メタデータやその他のトランザクション詳細により、システム全体の状態を理解しなくてもトランザクションを追跡し、資金の流れを確認することが容易になります。 この透明性は、明確な監査証跡を必要とし、サプライ チェーン管理、会計、財務コンプライアンスなどの基盤となる会計イベントをさまざまな観点から考慮するアプリケーションで特に役立ちます。 ただし、スマート コントラクト ベースの分散アプリケーション (DApps) のプロセス中心モデルを設計および実装する方法を理解するには、トークン エンジニアのメンタル モデルを転換する必要があります。 このような変化は、Python 開発者が [Erlang](https://www.erlang.org/) と関数型思考を学ぼうとするのと似ています。 多少の努力が必要です。

Cardano の eUTXO モデルは柔軟性、スケーラビリティ、セキュリティを備えており、高い信頼性と透明性を維持しながら拡張可能な分散型アプリケーションの開発と展開のための堅牢な基盤となります。

### eUTXO とアカウントベース モデルのコンテキストにおける REA オントロジー

[_REA (Resource-Event-Agent)_ アカウンティング オントロジー](https://en.wikipedia.org/wiki/Resources,_Events,_Agents) アカウンティング オントロジーを使用すると、Ethereum のアカウント ベース モデルと Cardano の eUTXO モデルを比較できます。

総勘定元帳モデル (Ethereum) では、単一の組織 (エンティティ) がアカウント (システム状態) を制御し、その状態の単一の観点にのみ関心があると想定されています。 一方、REA では、複数のエージェントがシステム状態を共有することを前提としています。 それでも、イベントやリソース構成に対する関心や視点は異なります。 REA は、会計イベントにプロセスまたはフローの観点を適用します。 買い手や売り手などの各エージェントは、両者が当事者となっている単一の取引に対して異なる視点を持っています。 REA フレームワークは、経済取引をリソース、イベント、エージェントに分解することで、これらのブロックチェーン モデルが経済活動をどのように処理するかを理解するための構造化されたアプローチを提供します。

Ethereum のアカウントベースのモデルでは、リソースはアカウント内の残高に相当し、管理下にあるデジタル資産を表します。 このコンテキストにおけるイベントとは、転送、契約の実行、またはその他の状態変更操作を通じてこれらの残高を変更するメッセージです。 エージェントは、メッセージ交換を開始または参加するアカウント所有者またはスマート コントラクトです。 アカウントベース モデルの継続的な状態追跡は、さまざまなイベント (メッセージ) を通じてリソースの状態 (残高) とその時間の経過に伴う変化を明確に表示することで、REA オントロジーと一致しています。 ただし、アカウントベースのモデルでは、その状態に対する単一のビューが想定されるため、REA が代替の視点を取る柔軟性が失われます。

逆に、eUTXO モデルは、REA の基盤となる分散型モデルの原則を直接体現しています。 各 UTXO はリソースを表します。 eUTXO モデルにおけるトランザクションは、既存の UTXO を消費し、新しい UTXO を生成するイベントであり、リソースの所有権と状態の変更を反映します。 状態の変更により、リソース間の関係が再構成されます。 再構成では、単純な値フローだけでなく、潜在的に複雑なデータとロジックもカプセル化されます。 このモデルのエージェントは UTXO を所有するエンティティであり、スマート コントラクトは UTXO を再構成できる条件、つまり UTXO をどのように使用できるかを規定する検証ルールで構成されています。

eUTXO のトランザクション指向の性質により、エージェント間のリソースとイベントを追跡する際に高い透明性と監査機能が提供されます。 各 UTXO の作成と消費は明示的であるため、システム内のリソースの流れを追跡することが容易になります。 対照的に、アカウント ベースのモデルは、リソースの累積的な状態に焦点を当てており、現在の状態につながった個々のメッセージ (イベント) は不明瞭になっています。

eUTXO およびアカウントベースのモデルは、REA オントロジーを通して見ると、リソース、イベント、エージェントを管理するための異なるアプローチを提供します。 eUTXO モデルの粒度と並列性により、分散化されたコンテキストでの高いトランザクション スループットと明示的なリソース追跡を必要とする複雑なビジネス プロセスに適しています。

### スケーラビリティと計算上の利点

基盤となる元帳モデルは、ブロックチェーン システムのスケーラビリティと計算効率を評価する上で重要な役割を果たします。 Ethereum のアカウントベース モデルと Cardano の eUTXO モデルは、異なるスケーラビリティ パラダイムを提示します。

直感的で従来の会計情報システムと密接に連携している一方で、Ethereum のアカウントベースのモデルはその設計に固有の課題に直面しています。 このモデルのステートフルな性質により、グローバル状態の整合性と一貫性を確保するために、各メッセージを順番に処理する必要があります。 ネットワークが拡大し、トランザクション量が増加すると、この順次処理がボトルネックになります。 Ethereum 2.0 などの取り組みは、ネットワークをより小さく管理しやすい部分に分割してスループットを向上させるシャーディングを通じてこれらの課題に対処することを目指しています。

一方、Cardano が採用している eUTXO モデルは、並列トランザクション処理を本質的にサポートすることで、スケーラビリティに対する独自のアプローチを提供します。 各 UTXO は独立しており、トランザクションは他のトランザクションに影響を与えることなく UTXO を消費および生成することしかできないため、同じ UTXO の消費に依存しない限り、複数のトランザクションを同時に処理できます。 さらに、各オンチェーン トランザクションは、単一の UTXO (多次元価値単位) で複数の資産タイプを転送する複数の実際のサブトランザクションを表すことができます。 たとえば、Cardano は単一のオンチェーントランザクションを通じて、何百もの異なるウォレットに資金を迅速に転送できます。 この並列処理により、大量の本物のトランザクションを処理するネットワークの能力が大幅に向上し、eUTXO モデルは高いスループットと効率を必要とするアプリケーションに特に適しています。

さらに、eUTXO 設計により、状態の処理に異なるアプローチを導入することなく、オフチェーン設計を比較的簡単に実装できるようになります。 ステート チャネルまたはサイド チェーンは、トランザクションをメイン チェーンから移動することで、プライバシー、スケーラビリティ、効率性を向上させることができます。 この機能は、モデル固有の並列性と組み合わせることで、分散型ビジネス プロセス指向アプリケーションに堅牢な基盤を提供します。

### 高度なトークンエンジニアリングにおけるeUTXOの可能性

REA アカウンティング オントロジーを通して見ると、Cardano によって実装された拡張未使用トランザクション出力 (eUTXO) モデルは、トークン エンジニアリングの新たな道を開きます。 高度なトークン システムと分散型アプリケーション (dApps) を設計および展開するための柔軟で堅牢なフレームワークを提供します。 このモデルの独自の機能により、開発者はトークン タイプ (資産) のコレクションに対して複雑なロジックと条件をエンコードできます。

eUTXO モデルの際立った特徴の 1 つは、データとスマート コントラクト検証ロジックを UTXO 内に直接埋め込むことができることです。 トークンのセットが価値の単位、情報、およびその使用を管理するルールを保持できるようにします。 たとえば、トークンは、所有権、ID 資格情報、またはアクセス権限をすべて 1 つのトランザクションで表すことができます。 組み込まれた検証ロジックにより、トークンの使用がビジネス プロセスの定義済み条件に準拠していることが保証されます。 粒度と制御のレベルは、金融商品、デジタル ID、アクセス制御メカニズムを作成する上で非常に重要です。

さらに、eUTXO 並列トランザクション処理と直接マルチアセット サポートにより、複雑なトークンのやり取りの効率が大幅に向上します。 eUTXO モデルでは、スマート コントラクト内の複数のステップを同時に処理できるようにすることで、広範な dApp の採用と高頻度のトークンのやり取り (交換など) の需要を満たすようにシステムを拡張できることが保証されます。 複雑なプロセスで急速かつ大量の状態変化が当たり前となる金融、ゲーム、サプライ チェーン管理アプリケーションには不可欠です。

さらに、各 UTXO の履歴と関連ロジックは明示的に追跡可能であり、トークントランザクションの明確な監査証跡を提供します。 この透明性は、規制遵守、紛争解決、会計にとって非常に重要です。 これらを組み合わせることで、分散型システムへの信頼が構築されます。

eUTXO の組み込みロジック、並列処理機能、直接的なマルチアセット サポート、透明性の組み合わせは、トークン エンジニアにとって強力なツールキットを提供します。 これにより、洗練されたトークンベースのアプリケーションの作成が可能になり、分散型金融と共同プロセスの可能性の限界が押し広げられます。 ただし、モデルを使用するには、提供される独自の機能を活用するために、異なるメンタル モデルが必要です。 したがって、トークン エンジニアリングの実践では、eUTXO アーキテクチャを適切に使用できるように少し調整する必要があります。

### ブロックチェーンの進化

Ethereum のアカウントベース モデルと Cardano の eUTXO モデルを簡単に紹介しましたが、これはブロックチェーンの進化に関するより広範な物語を示しています。 各モデルは、理解可能性、スケーラビリティ、柔軟性、計算効率に関するさまざまな優先順位を反映して、システム状態管理に対する独自のアプローチを提示します。 Ethereum のモデルは、従来の会計慣行に適合した、使い慣れたステートフル システムを提供します。 対照的に、Cardano の eUTXO モデルは、ネットワーク商取引、コラボレーション、会計に適した新しいフレームワークを導入していますが、あまり知られていません。

しかし、アカウントベースの状態変化の直感的な表現と従来の会計システムとの整合性により、アカウントベースの残高モデルは、本質的にエージェントのネットワーク全体で共有される現実世界の分散型アプリケーションの基盤としては不十分です。 スケーラビリティとシーケンシャル処理に関する課題は、Ethereum 2.0 やその他のスケーラビリティ ソリューションの開発に見られるように、継続的なイノベーションと最適化の必要性を浮き彫りにしています。

逆に、eUTXO モデルはトランザクションの独立性、並列処理、およびトランザクション内に多変量の複雑なロジックを埋め込む機能に重点を置いており、分散型アプリケーション、会計システム、金融の将来に異なるビジョンをもたらします。 これは、REA と同様に、ネットワーク ネイティブの会計モデルです。 高度なトークンエンジニアリングとスケーラブルな dApp を促進する可能性により、現実世界のブロックチェーンイノベーションの推進力となり、新しいアプリケーションとユースケースへの道が開かれます。 テクノロジーが進化するにつれ、これらのモデルの継続的な探求と改良がブロックチェーンの潜在能力を最大限に引き出す上で重要になります。 トークン エンジニアリングの実践は、トークン システムとマイクロ エコノミーの設計において、REA (および一般的な三式簿記) と eUTXO のより広範な理解を含めるように拡張する必要があります。
